# HTTP Method in Express

By default every route on browser is `GET` that's the reason if route not found the error is `Cannot GET route`  

> `NOTE`
> 
> Browser is the worst way to test API use Postman Instead.

## Handling Multiple Methods using Express

`.use()` will match the rout for every HTP Methods.

To explicitly match a route for a required method call use `.<method_name>`  

> `NOTE`
> 
> Make sure of right order , placing `.use()` above them will overwrite every method call with same route.

## Routing Expressions

> The string patterns in Express 5 no longer work.

1. `?` Optional : Matching will be the same if the segment is present or not.
   
   1. `/ab?c`  Matches both  `/abc` and `/ac`

2. `+` Additonal : Match the routes even if `n` multiple consecutive segments
   
   1. `/ab+c` Matches `/abc`, `/abbbc`, `/abbb...bc` 

3. `*` Anything : matches anything in place of the segment
   
   1. `/ab*c` Matches `/abxyzc`, `/ab1234c`

4. `()` grouping : Can group segments for above operators
   
   1. `/a(bc)+z` matches `/abcbcbcbc...bcz`

5. `/regExp/` Regular Expressions: matches for the pattersn matching `regExp`

## Getting the query_parameters from the route

use `req.query` to get all the query_parameters from the route_url  

> `req.query`
> 
> This property is an object containing a property for each query string parameter in the route.
> 
> Query String Parameters are key-value pairs appended to the end of a Uniform Resource Locator (URL) following a question mark (`?`).
> 
> These parameters are used to pass data or instructions to a web server when requesting a resource.
> 
> - **Start:** A question mark (`?`) indicates the beginning of the query string.
> - **Key-Value Pairs:** Each parameter consists of a key and a corresponding value, separated by an equals sign (`=`).
> - **Separation:** Multiple parameters within a single query string are separated by an ampersand (`&`).
> 
> > `NOTE`
> > 
> > As `req.query`’s shape is based on user-controlled input, all properties and values in this object are untrusted and should be validated before trusting.

## Dynamic Routes

use `"/:param"` to the route this match path, to get this params use `req.params`

> `req.params`
> 
> This property is an object containing properties mapped to the named route “parameters”. For example, if you have the route `/user/:name`, then the “name” property is available as `req.params.name`. This object defaults to `{}`.
> 
> Route parameters are named URL segments that are used to capture the values specified at their position in the URL.

## Multiple Route Handlers For a Single Route

```js
app.use("/route" ,
(req,res,next) => {
    console.log("Route Handler-1")
    next()
},
(req,res) ()=>{
    console.log("Router Handler -2")
}

)
```

We use `next()` to pass execution/calls to next Route Handler. Specify `next` with the parameters of Callback

>  `NOTE`
> 
> A route handler cannot have both `res.send()` and `next()`
> 
> If there is no route handler to execute for `next()` call an Error will be thrown.

You can wrap the route Handlers with an `Array` it upon you to wrap all the Route handlers or some specific one.

```js
app.use("/route" ,
[
    (req,res,next) => {
        console.log("Route Handler-1")
        next()
    },
    (req,res) ()=>{
        console.log("Router Handler -2")
    },

    [
        (req,res,next) => {
            console.log("Route Handler-3")
            next()
        },
        (req,res) ()=>{
           console.log("Router Handler -4")
        }

    ]


]

)
```

You can just separate Router handler with the same route. and connect them with an `next()` call

```js
app.use("/form", (req,res,next)=>{
    console.log("Frontend Submitted the form");
    next();
})

app.use("/form", (req,res)=>{
    console.log("Processed and Stored the Form Data")
    res.send("Form Successfully submitted")
}) 
```
