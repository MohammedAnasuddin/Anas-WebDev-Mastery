# Working of Web

> ## Why the Name Web
> 
>  Any user(machine) can connect to N number of other machines usingÂ IP Addresses via Internet. Creating a Structure just like a `Web`.

## Server

Definition of Sever depends on the context. Server is an application which makes data/assets on current  machine accessible to other users of other machines.

> ## Why deploy our projects
> 
> Deploying project enable the server to run forever and provides a dedicated unique IP address.

## Client Server Architecture

`Client`: Someone who is trying to access our Server.

1. To access any data/asset from the Server, Client has to opens a `Socket`
   
   1. Socket is a connection between Client and Server
   
   2. After Server delivers the data/assets the Socket Connection gets closed.
   
   3. These Sockets use `TCP/IP` to transfer data(request) from the client

2. Server response with a set of protocols (rules):
   
   1. `HTTP`: Most used protocol by webpages, used to send general data (text, html, JSON)  
   
   2. `FTP`: Used by server to transfer files.  
   
   3. `SMTP` : Simple Mail Transfer Protocol

3. Server always listens (waiting) for incoming requests, If received gets and process response according to the request.

## Sending Request Data

1. Request and Responses are made in small chunks of data known as `packets`

2. `TCP/IP` (Transmission Control Protocol , Internet Protocol) rules how data is shared on Connection and `HTTP` are rules to decide how response data is shared by the server.
   
   > `DNS`
   > 
   > Domain Name Server is the Verbal form of IP address of the server hosting the website.

## Ports

 If a server contains multiple applications/Servers running inside , how to determine to which server the request is for? 
 This is determined by a `PORT` a 4-digit Number.

> `NOTE`
> 
> You cannot read any random 4 digit number , server decides the number to be used. 
> 
> Some `PORT` are reserved you cannot use them for custom servers. 
> 
> `PORT` can be of Lesser digit numbers as well.

So the request is made to `IP_Address:PORT`

PORTS creating and accessing servers with dedicated works for better separation of concern. Frontend on A PORT and  Backend server on another PORT.

## Web Sockets

In general , Sockets are closed after sharing the response.

In Web sockets, the socket connection is not closed hence two way data sharing is possible 

## Creating Our Server

1. Use `http` module from NodeJS

2. Create an instance of a Server using `http.createServer()`

3. Listen on this server instance using `serverInstance.listen(PORT)`

4. On running this code terminal starts waiting for the requests.

```js
const http = require("node:http")

const server = http.createServer();

server.listen(5124);
```

### Giving Response

Pass a function with `req, res` as parameters to the `createServer()` method

In it end the response by :

```js
cosnt server = http.createServer(function (req,res){
    res.end("Response")
} )
```

#### URL based Response

Check for URL with Strict Equality using `req.url`  then give the response accordingly

```js
cosnt server = http.createServer(function (req,res){
    if(req.url = "/path1"){
    res.end("on path one")
    }
})
```

> `NOTE`
> 
> using `http` module is tedious to use for creating Web applications hence we use `ExpressJS`
